[filament_motion_sensor MOTION_T0]
switch_pin: ^MMB:PB10
detection_length: 4
extruder: extruder
pause_on_runout: False
runout_gcode:
     M117 Filament MOTION_T0 activated
     RESPOND MSG="Motion Sensor T0 ACTIVATED"
     _FILAMENT_MOTION
insert_gcode:
  M117 Filament MOTION_T0 inserted

[filament_motion_sensor MOTION_T1]
switch_pin: ^MMB:PB12
detection_length: 4
extruder: extruder
pause_on_runout: False
runout_gcode:
     M117 Filament MOTION_T1 activated
     RESPOND MSG="Motion Sensor T1 ACTIVATED"
     _FILAMENT_MOTION        ; Call the macro created to handle the motion behavior  
insert_gcode:
  M117 Filament MOTION_T1 inserted

[filament_motion_sensor MOTION_T2]
switch_pin: gpio_xx
detection_length: 2.88
extruder: extruder
pause_on_runout: False
runout_gcode:
     M117 Filament MOTION_T2 activated
     RESPOND MSG="Motion Sensor T2 ACTIVATED"
     _FILAMENT_MOTION        ; Call the macro created to handle the motion behavior  
insert_gcode:
  M117 Filament MOTION_T2 inserted

[filament_motion_sensor MOTION_T3]
switch_pin: gpio_xx
detection_length: 2.88
extruder: extruder
pause_on_runout: False
runout_gcode:
     M117 Filament MOTION_T3 activated
     RESPOND MSG="Motion Sensor T3 ACTIVATED"
     _FILAMENT_MOTION        ; Call the macro created to handle the motion behavior  
insert_gcode:
  M117 Filament MOTION_T3 inserted

[filament_motion_sensor MOTION_T4]
switch_pin: gpio_xx
detection_length: 2.88
extruder: extruder
pause_on_runout: False
runout_gcode:
     M117 Filament MOTION_T4 activated
     RESPOND MSG="Motion Sensor T4 ACTIVATED"
     _FILAMENT_MOTION        ; Call the macro created to handle the motion behavior  
insert_gcode:
  M117 Filament MOTION_T4 inserted

[filament_motion_sensor MOTION_T5]
switch_pin: gpio_xx
detection_length: 2.88
extruder: extruder
pause_on_runout: False
runout_gcode:
     M117 Filament MOTION_T5 activated
     RESPOND MSG="Motion Sensor T5 ACTIVATED"
     _FILAMENT_MOTION        ; Call the macro created to handle the motion behavior  
insert_gcode:
  M117 Filament MOTION_T5 inserted

[filament_motion_sensor MOTION_T6]
switch_pin: gpio_xx
detection_length: 2.88
extruder: extruder
pause_on_runout: False
runout_gcode:
     M117 Filament MOTION_T6 activated
     RESPOND MSG="Motion Sensor T6 ACTIVATED"
     _FILAMENT_MOTION        ; Call the macro created to handle the motion behavior  
insert_gcode:
  M117 Filament MOTION_T6 inserted

[filament_motion_sensor MOTION_T7]
switch_pin: gpio_xx
detection_length: 2.88
extruder: extruder
pause_on_runout: False
runout_gcode:
     M117 Filament MOTION_T7 activated
     RESPOND MSG="Motion Sensor T7 ACTIVATED"
     _FILAMENT_MOTION        ; Call the macro created to handle the motion behavior  
insert_gcode:
  M117 Filament MOTION_T7 inserted

[gcode_macro _FILAMENT_MOTION]
gcode:
     {% set target_temp = printer.save_variables.variables.extruder_temperature %}
     {% if printer.save_variables.variables.started_printing == True %}
         RESPOND MSG="☣️ Filament is not moving, check your 8in1 ☣️"
         PAUSE
         M104 S{target_temp - 50}    ; Preheat nozzle slightly
     {% endif %}
